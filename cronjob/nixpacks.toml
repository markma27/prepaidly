# Nixpacks configuration for Railway
# Note: Builds from repository root to access backend models
[phases.setup]
nixPkgs = ["gradle", "jdk21"]

[phases.install]
cmds = ["chmod +x ../backend/gradlew"]

[phases.build]
cmds = ["cd .. && ./backend/gradlew :cronjob:clean :cronjob:build -x test --no-daemon"]

[start]
cmd = "cd cronjob && java -jar build/libs/prepaidly-cronjob-0.1.0.jar"

