server.port=8080
spring.application.name=prepaidly-backend

# Database Configuration
# Supports both local PostgreSQL and Supabase
# For Supabase: Get connection string from https://supabase.com/dashboard
# TODOï¼ˆedmondhuo): local postgres
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/prepaidly}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:postgres}
spring.datasource.driver-class-name=org.postgresql.Driver

# Connection Pooling (important for Supabase)
spring.datasource.hikari.maximum-pool-size=5
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=30000

# JPA Configuration
# Use 'update' for development to auto-create tables, 'validate' for production
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# Xero OAuth Configuration
xero.client.id=${XERO_CLIENT_ID:}
xero.client.secret=${XERO_CLIENT_SECRET:}
xero.redirect.uri=${XERO_REDIRECT_URI:http://localhost:8080/api/auth/xero/callback}

# JWT Configuration
jwt.secret=${JWT_SECRET:changeme-in-production}
jwt.expiration=86400000

# Encryption
# IMPORTANT: Set this via environment variable in production!
jasypt.encryptor.password=${JASYPT_PASSWORD:changeme-in-production}
jasypt.encryptor.algorithm=PBEWithMD5AndDES

# Sentry Configuration
sentry.dsn=${SENTRY_DSN:}
sentry.environment=${SENTRY_ENV:development}

# Logging
logging.level.com.prepaidly=INFO
logging.level.org.springframework.security=WARN
logging.level.org.springframework.web=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

